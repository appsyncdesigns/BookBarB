"use strict";(self.webpackChunkcoreui_free_angular_admin_template=self.webpackChunkcoreui_free_angular_admin_template||[]).push([[245],{8245:(E,y,p)=>{p.r(y),p.d(y,{CitiesModule:()=>F});var i=p(6895),C=p(9455),Z=p(5226),A=p.n(Z),t=p(4650),M=p(5830),k=p(7241),_=p(4006),v=p(8423),b=p(4333),x=p(502);function w(r,f){if(1&r){const n=t.EpF();t.TgZ(0,"button",22),t.NdJ("click",function(){t.CHM(n);const c=t.oxw();return t.KtG(c.createCity())}),t._uU(1),t.qZA()}if(2&r){const n=t.oxw();t.xp6(1),t.hij(" ",n.util.translate("Save"),"")}}function l(r,f){if(1&r){const n=t.EpF();t.TgZ(0,"button",23),t.NdJ("click",function(){t.CHM(n);const c=t.oxw();return t.KtG(c.updateCity())}),t._uU(1),t.qZA()}if(2&r){const n=t.oxw();t.xp6(1),t.hij(" ",n.util.translate("Update"),"")}}function g(r,f){if(1&r&&(t.TgZ(0,"div",24)(1,"label"),t._uU(2),t.qZA()()),2&r){const n=t.oxw();t.xp6(2),t.Oqu(n.util.translate("No Data Found.."))}}function e(r,f){if(1&r&&(t.TgZ(0,"thead")(1,"tr")(2,"th"),t._uU(3),t.qZA(),t.TgZ(4,"th"),t._uU(5),t.qZA()()()),2&r){const n=t.oxw();t.xp6(3),t.Oqu(n.util.translate("City Name")),t.xp6(2),t.Oqu(n.util.translate("Action"))}}function o(r,f){1&r&&(t.TgZ(0,"td"),t._UZ(1,"ngx-skeleton-loader",25),t.qZA())}const a=function(){return[1,2,3,4]};function u(r,f){1&r&&(t.TgZ(0,"tr"),t.YNc(1,o,2,0,"td",21),t.qZA()),2&r&&(t.xp6(1),t.Q6J("ngForOf",t.DdM(1,a)))}function h(r,f){if(1&r){const n=t.EpF();t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td")(4,"c-badge",26),t.NdJ("click",function(){const d=t.CHM(n).$implicit,T=t.oxw();return t.KtG(T.statusUpdate(d))}),t._uU(5),t.qZA(),t.TgZ(6,"c-badge",27),t.NdJ("click",function(){const d=t.CHM(n).$implicit,T=t.oxw();return t.KtG(T.updateInfo(d.id))}),t._uU(7),t.qZA(),t.TgZ(8,"c-badge",28),t.NdJ("click",function(){const d=t.CHM(n).$implicit,T=t.oxw();return t.KtG(T.deleteItem(d))}),t._uU(9),t.qZA()()()}if(2&r){const n=f.$implicit,s=t.oxw();t.xp6(2),t.Oqu(n.name),t.xp6(2),t.Tol(1==n.status?"me-1 badge bg-success":"me-1 badge bg-dark"),t.Q6J("color",1==n.status?"success":"dark"),t.xp6(1),t.hij(" ",s.util.translate(1==n.status?"Active":"Deactived")," "),t.xp6(2),t.hij(" ",s.util.translate("View")," "),t.xp6(2),t.hij(" ",s.util.translate("Delete")," ")}}function m(r,f){if(1&r){const n=t.EpF();t.TgZ(0,"div")(1,"pagination-controls",29),t.NdJ("pageChange",function(c){t.CHM(n);const d=t.oxw();return t.KtG(d.page=c)}),t.qZA()()}}const D=function(){return{standalone:!0}},I=function(r){return{id:"pagin1",itemsPerPage:5,currentPage:r}},J=[{path:"",component:(()=>{class r{constructor(n,s){this.api=n,this.util=s,this.action="create",this.dummy=Array(5),this.cities=[],this.dummyCities=[],this.name="",this.cityId="",this.lat="",this.lng="",this.page=1,this.resetChanges=()=>{this.cities=this.dummyCities},this.getAllCities()}ngOnInit(){}getAllCities(){this.cities=[],this.dummy=Array(5),this.api.get_private("v1/cities/getAll").then(n=>{this.dummy=[],n&&n.status&&200==n.status&&n.success&&(console.log(">>>>>",n),n.data.length>0&&(this.cities=n.data,this.dummyCities=n.data,console.log("====",this.cities)))},n=>{this.dummy=[],console.log("Error",n),this.util.apiErrorHandler(n)}).catch(n=>{this.dummy=[],console.log("Err",n),this.util.apiErrorHandler(n)})}search(n){this.resetChanges(),console.log("string",n),this.cities=this.filterItems(n)}filterItems(n){return this.cities.filter(s=>s.name.toLowerCase().indexOf(n.toLowerCase())>-1)}setFilteredItems(){console.log("clear"),this.cities=[],this.cities=this.dummyCities}deleteItem(n){A().fire({title:this.util.translate("Are you sure?"),text:this.util.translate("To delete this item?"),icon:"question",showConfirmButton:!0,confirmButtonText:this.util.translate("Yes"),showCancelButton:!0,cancelButtonText:this.util.translate("Cancel"),backdrop:!1,background:"white"}).then(s=>{s&&s.value&&(console.log("update it"),console.log(n),console.log(n),this.util.show(),this.api.post_private("v1/cities/destroy",{id:n.id}).then(c=>{console.log(c),this.util.hide(),c&&c.status&&200==c.status&&this.getAllCities()}).catch(c=>{console.log(c),this.util.hide(),this.util.apiErrorHandler(c)}))})}statusUpdate(n){A().fire({title:this.util.translate("Are you sure?"),text:this.util.translate("To update this item?"),icon:"question",showConfirmButton:!0,confirmButtonText:this.util.translate("Yes"),showCancelButton:!0,cancelButtonText:this.util.translate("Cancel"),backdrop:!1,background:"white"}).then(s=>{if(s&&s.value){console.log("update it"),this.cityId=n.id;const c={id:this.cityId,status:0==n.status?1:0};console.log("======",c),this.util.show(),this.api.post_private("v1/cities/update",c).then(d=>{this.util.hide(),console.log("+++++++++++++++",d),d&&d.status&&200==d.status&&d.success&&(this.util.success(this.util.translate("Status Updated !")),this.getAllCities())},d=>{this.util.hide(),console.log("Error",d),this.util.apiErrorHandler(d)}).catch(d=>{this.util.hide(),console.log("Err",d),this.util.apiErrorHandler(d)})}})}updateInfo(n){this.action="update",this.cityId=n;const s={id:this.cityId};console.log("CAT BY ID => ",s),this.util.show(),this.api.post_private("v1/cities/getById",s).then(c=>{console.log(c),this.util.hide(),c&&c.status&&200==c.status&&c.success&&(this.name=c.data.name,this.lat=c.data.lat,this.lng=c.data.lng)},c=>{this.util.hide(),console.log("Error",c),this.util.apiErrorHandler(c)}).catch(c=>{this.util.hide(),console.log("Err",c),this.util.apiErrorHandler(c)})}clearData(){console.log("CLEAR DATA"),this.name="",this.lat="",this.lng=""}createCity(){if(""==this.name||null==this.name||""==this.lat||""==this.lng||null==this.lat||null==this.lng)this.util.error(this.util.translate("All Fields are required"));else{const n={name:this.name,status:1,lat:this.lat,lng:this.lng};this.util.show(),this.api.post_private("v1/cities/create",n).then(s=>{console.log("+++++++++++++++",s),this.util.hide(),s&&s.status&&200==s.status&&s.success&&(this.clearData(),this.util.success(this.util.translate("City added !")),this.getAllCities())},s=>{this.util.hide(),console.log("Error",s),this.util.apiErrorHandler(s)}).catch(s=>{this.util.hide(),console.log("Err",s),this.util.apiErrorHandler(s)})}}updateCity(){if(""==this.name||null==this.name||""==this.lat||""==this.lng||null==this.lat||null==this.lng)this.util.error(this.util.translate("All fields are required"));else{const n={id:this.cityId,name:this.name};console.log("======",n),this.util.show(),this.api.post_private("v1/cities/update",n).then(s=>{console.log("+++++++++++++++",s),this.util.hide(),s&&s.status&&200==s.status&&s.success&&(this.clearData(),this.util.success(this.util.translate("City Updated !")),this.action="create",this.getAllCities())},s=>{this.util.hide(),console.log("Error",s),this.util.apiErrorHandler(s)}).catch(s=>{this.util.hide(),console.log("Err",s),this.util.apiErrorHandler(s)})}}}return r.\u0275fac=function(n){return new(n||r)(t.Y36(M.s),t.Y36(k.f))},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-cities"]],decls:46,vars:32,consts:[["type","ball-scale-multiple"],[1,"animated","fadeIn"],[1,"row"],[1,"col-lg-4"],[1,"card"],[1,"card-header"],[1,"card-body"],[1,"form-group"],[1,"modal_lbl"],["type","text",1,"form-control",3,"ngModel","placeholder","ngModelOptions","ngModelChange"],[1,"text-heler"],["href","https://www.mapcoordinates.net/en","target","_blank","rel","noopener noreferrer",2,"color","blue !important"],["type","button","class","btn btn-success",3,"click",4,"ngIf"],["type","button","class","btn btn btn-primary",3,"click",4,"ngIf"],[1,"col-lg-8"],[1,"row","flex_row"],[1,"col-lg-12"],["type","text","id","name",1,"form-control",3,"placeholder","input"],["class","error_div",4,"ngIf"],[1,"table","table-responsive-sm","table-hover","mb-0"],[4,"ngIf"],[4,"ngFor","ngForOf"],["type","button",1,"btn","btn-success",3,"click"],["type","button",1,"btn","btn","btn-primary",3,"click"],[1,"error_div"],["count","1","appearance","line"],[3,"color","click"],["color","info",1,"me-1","badge","bg-info",3,"click"],["color","danger",1,"me-1","badge","bg-danger",3,"click"],["id","pagin1",3,"pageChange"]],template:function(n,s){1&n&&(t._UZ(0,"ngx-spinner",0),t.TgZ(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),t._uU(6),t.qZA(),t.TgZ(7,"div",6)(8,"form")(9,"div",7)(10,"label",8),t._uU(11),t.qZA(),t.TgZ(12,"input",9),t.NdJ("ngModelChange",function(d){return s.name=d}),t.qZA()(),t.TgZ(13,"p",10),t._uU(14),t.TgZ(15,"a",11),t._uU(16,"https://www.mapcoordinates.net/en"),t.qZA()(),t.TgZ(17,"p",10),t._uU(18),t.qZA(),t.TgZ(19,"div",7)(20,"label",8),t._uU(21),t.qZA(),t.TgZ(22,"input",9),t.NdJ("ngModelChange",function(d){return s.lat=d}),t.qZA()(),t.TgZ(23,"div",7)(24,"label",8),t._uU(25),t.qZA(),t.TgZ(26,"input",9),t.NdJ("ngModelChange",function(d){return s.lng=d}),t.qZA()()(),t._UZ(27,"br"),t.YNc(28,w,2,1,"button",12),t.YNc(29,l,2,1,"button",13),t.qZA()()(),t.TgZ(30,"div",14)(31,"div",4)(32,"div",5),t._uU(33),t.qZA(),t.TgZ(34,"div",6)(35,"div",15)(36,"div",16)(37,"input",17),t.NdJ("input",function(d){return s.search(d.target.value)}),t.qZA()()(),t.YNc(38,g,3,1,"div",18),t.TgZ(39,"table",19),t.YNc(40,e,6,2,"thead",20),t.TgZ(41,"tbody"),t.YNc(42,u,2,2,"tr",21),t.YNc(43,h,10,7,"tr",21),t.ALo(44,"paginate"),t.qZA()(),t.YNc(45,m,2,0,"div",20),t.qZA()()()()()),2&n&&(t.xp6(6),t.hij(" ",s.util.translate("City Information")," "),t.xp6(5),t.Oqu(s.util.translate("City Name")),t.xp6(1),t.Q6J("ngModel",s.name)("placeholder",s.util.translate("City Name"))("ngModelOptions",t.DdM(27,D)),t.xp6(2),t.hij("",s.util.translate("Select Latitude & Longitude From here:")," "),t.xp6(4),t.hij(" ",s.util.translate("Please enter valid Latitude & Longitude otherwise app may not work properly."),""),t.xp6(3),t.Oqu(s.util.translate("Latitude")),t.xp6(1),t.Q6J("ngModel",s.lat)("placeholder",s.util.translate("Latitude"))("ngModelOptions",t.DdM(28,D)),t.xp6(3),t.Oqu(s.util.translate("Longitude")),t.xp6(1),t.Q6J("ngModel",s.lng)("placeholder",s.util.translate("Longitude"))("ngModelOptions",t.DdM(29,D)),t.xp6(2),t.Q6J("ngIf","create"==s.action),t.xp6(1),t.Q6J("ngIf","update"==s.action),t.xp6(4),t.hij(" ",s.util.translate("All Cities")," "),t.xp6(4),t.Q6J("placeholder",s.util.translate("Search City")),t.xp6(1),t.Q6J("ngIf",(null==s.cities?null:s.cities.length)<=0&&(null==s.dummy?null:s.dummy.length)<=0),t.xp6(2),t.Q6J("ngIf",(null==s.cities?null:s.cities.length)>0),t.xp6(2),t.Q6J("ngForOf",s.dummy),t.xp6(1),t.Q6J("ngForOf",t.xi3(44,24,s.cities,t.VKq(30,I,s.page))),t.xp6(2),t.Q6J("ngIf",(null==s.cities?null:s.cities.length)>0))},dependencies:[i.sg,i.O5,_._Y,_.Fj,_.JJ,_.JL,_.On,_.F,v.Ro,b.LS,x.xr,b._s],styles:['@charset "UTF-8";']}),r})()}];let O=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=t.oAB({type:r}),r.\u0275inj=t.cJS({imports:[C.Bz.forChild(J),C.Bz]}),r})();var N=p(388),q=p(9241);let F=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=t.oAB({type:r}),r.\u0275inj=t.cJS({imports:[i.ez,O,_.u5,v.ef,b.JX,x.hx.forRoot({animation:"progress-dark"}),q.P4,N.zk]}),r})()},9241:(E,y,p)=>{p.d(y,{AH:()=>v,P4:()=>w,wW:()=>b,y3:()=>x});var i=p(4650),C=p(6895);function Z(l,g){if(1&l){const e=i.EpF();i.TgZ(0,"span",7),i.NdJ("click",function(a){i.CHM(e);const u=i.oxw().$implicit,h=i.oxw();return a.preventDefault(),i.KtG(h.removeTab(u))}),i._uU(1," \u274c"),i.qZA()}}const A=function(l){return["nav-item",l]};function t(l,g){if(1&l){const e=i.EpF();i.TgZ(0,"li",3),i.NdJ("keydown",function(a){const h=i.CHM(e).index,m=i.oxw();return i.KtG(m.keyNavActions(a,h))}),i.TgZ(1,"a",4),i.NdJ("click",function(){const u=i.CHM(e).$implicit;return i.KtG(u.active=!0)}),i.TgZ(2,"span",5),i._uU(3),i.qZA(),i.YNc(4,Z,2,0,"span",6),i.qZA()()}if(2&l){const e=g.$implicit;i.ekj("active",e.active)("disabled",e.disabled),i.Q6J("ngClass",i.VKq(15,A,e.customClass||"")),i.xp6(1),i.ekj("active",e.active)("disabled",e.disabled),i.uIk("aria-controls",e.id?e.id:"")("aria-selected",!!e.active)("id",e.id?e.id+"-link":""),i.xp6(1),i.Q6J("ngTransclude",e.headingRef),i.xp6(1),i.Oqu(e.heading),i.xp6(1),i.Q6J("ngIf",e.removable)}}const M=["*"];let k=(()=>{class l{constructor(e){this.viewRef=e}set ngTransclude(e){this._ngTransclude=e,e&&this.viewRef.createEmbeddedView(e)}get ngTransclude(){return this._ngTransclude}}return l.\u0275fac=function(e){return new(e||l)(i.Y36(i.s_b))},l.\u0275dir=i.lG2({type:l,selectors:[["","ngTransclude",""]],inputs:{ngTransclude:"ngTransclude"}}),l})(),_=(()=>{class l{constructor(){this.type="tabs",this.isKeysAllowed=!0,this.ariaLabel="Tabs"}}return l.\u0275fac=function(e){return new(e||l)},l.\u0275prov=i.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"}),l})(),v=(()=>{class l{constructor(e,o,a){this.renderer=o,this.elementRef=a,this.clazz=!0,this.tabs=[],this.classMap={},this.ariaLabel="Tabs",this.isDestroyed=!1,this._vertical=!1,this._justified=!1,this._type="tabs",this._isKeysAllowed=!0,Object.assign(this,e)}get vertical(){return this._vertical}set vertical(e){this._vertical=e,this.setClassMap()}get justified(){return this._justified}set justified(e){this._justified=e,this.setClassMap()}get type(){return this._type}set type(e){this._type=e,this.setClassMap()}get isKeysAllowed(){return this._isKeysAllowed}set isKeysAllowed(e){this._isKeysAllowed=e}ngOnDestroy(){this.isDestroyed=!0}addTab(e){this.tabs.push(e),e.active=1===this.tabs.length&&!e.active}removeTab(e,o={reselect:!0,emit:!0}){const a=this.tabs.indexOf(e);if(-1!==a&&!this.isDestroyed){if(o.reselect&&e.active&&this.hasAvailableTabs(a)){const u=this.getClosestTabIndex(a);this.tabs[u].active=!0}o.emit&&e.removed.emit(e),this.tabs.splice(a,1),e.elementRef.nativeElement.parentNode&&this.renderer.removeChild(e.elementRef.nativeElement.parentNode,e.elementRef.nativeElement)}}keyNavActions(e,o){if(!this.isKeysAllowed)return;const a=Array.from(this.elementRef.nativeElement.querySelectorAll(".nav-link"));if(13===e.keyCode||"Enter"===e.key||32===e.keyCode||"Space"===e.key)return e.preventDefault(),void a[o%a.length].click();if(39!==e.keyCode&&"RightArrow"!==e.key)if(37!==e.keyCode&&"LeftArrow"!==e.key)if(36!==e.keyCode&&"Home"!==e.key)if(35!==e.keyCode&&"End"!==e.key){if((46===e.keyCode||"Delete"===e.key)&&this.tabs[o].removable){if(this.removeTab(this.tabs[o]),a[o+1])return void a[(o+1)%a.length].focus();a[a.length-1]&&a[0].focus()}}else{e.preventDefault();let u,h=1,m=o;do{m-h<0?(m=a.length-1,u=a[m],h=0):u=a[m-h],h++}while(u.classList.contains("disabled"));u.focus()}else{e.preventDefault();let u,h=0;do{u=a[h%a.length],h++}while(u.classList.contains("disabled"));u.focus()}else{let u,h=1,m=o;do{m-h<0?(m=a.length-1,u=a[m],h=0):u=a[m-h],h++}while(u.classList.contains("disabled"));u.focus()}else{let u,h=1;do{u=a[(o+h)%a.length],h++}while(u.classList.contains("disabled"));u.focus()}}getClosestTabIndex(e){const o=this.tabs.length;if(!o)return-1;for(let a=1;a<=o;a+=1){const u=e-a,h=e+a;if(this.tabs[u]&&!this.tabs[u].disabled)return u;if(this.tabs[h]&&!this.tabs[h].disabled)return h}return-1}hasAvailableTabs(e){const o=this.tabs.length;if(!o)return!1;for(let a=0;a<o;a+=1)if(!this.tabs[a].disabled&&a!==e)return!0;return!1}setClassMap(){this.classMap={"nav-stacked":this.vertical,"flex-column":this.vertical,"nav-justified":this.justified,[`nav-${this.type}`]:!0}}}return l.\u0275fac=function(e){return new(e||l)(i.Y36(_),i.Y36(i.Qsj),i.Y36(i.SBq))},l.\u0275cmp=i.Xpm({type:l,selectors:[["tabset"]],hostVars:2,hostBindings:function(e,o){2&e&&i.ekj("tab-container",o.clazz)},inputs:{vertical:"vertical",justified:"justified",type:"type"},ngContentSelectors:M,decls:4,vars:3,consts:[["role","tablist",1,"nav",3,"ngClass","click"],[3,"ngClass","active","disabled","keydown",4,"ngFor","ngForOf"],[1,"tab-content"],[3,"ngClass","keydown"],["href","javascript:void(0);","role","tab",1,"nav-link",3,"click"],[3,"ngTransclude"],["class","bs-remove-tab",3,"click",4,"ngIf"],[1,"bs-remove-tab",3,"click"]],template:function(e,o){1&e&&(i.F$t(),i.TgZ(0,"ul",0),i.NdJ("click",function(u){return u.preventDefault()}),i.YNc(1,t,5,17,"li",1),i.qZA(),i.TgZ(2,"div",2),i.Hsn(3),i.qZA()),2&e&&(i.Q6J("ngClass",o.classMap),i.uIk("aria-label",o.ariaLabel),i.xp6(1),i.Q6J("ngForOf",o.tabs))},dependencies:[C.mk,C.sg,C.O5,k],styles:["[_nghost-%COMP%]   .nav-tabs[_ngcontent-%COMP%]   .nav-item.disabled[_ngcontent-%COMP%]   a.disabled[_ngcontent-%COMP%]{cursor:default}"]}),l})(),b=(()=>{class l{constructor(e,o,a){this.elementRef=o,this.renderer=a,this.disabled=!1,this.removable=!1,this.selectTab=new i.vpe,this.deselect=new i.vpe,this.removed=new i.vpe,this.addClass=!0,this.role="tabpanel",this._active=!1,this._customClass="",this.tabset=e,this.tabset.addTab(this)}get customClass(){return this._customClass}set customClass(e){this.customClass&&this.customClass.split(" ").forEach(o=>{this.renderer.removeClass(this.elementRef.nativeElement,o)}),this._customClass=e?e.trim():"",this.customClass&&this.customClass.split(" ").forEach(o=>{this.renderer.addClass(this.elementRef.nativeElement,o)})}get active(){return this._active}set active(e){if(this._active!==e){if(this.disabled&&e||!e)return void(this._active&&!e&&(this.deselect.emit(this),this._active=e));this._active=e,this.selectTab.emit(this),this.tabset.tabs.forEach(o=>{o!==this&&(o.active=!1)})}}get ariaLabelledby(){return this.id?`${this.id}-link`:""}ngOnInit(){this.removable=!!this.removable}ngOnDestroy(){this.tabset.removeTab(this,{reselect:!1,emit:!1})}}return l.\u0275fac=function(e){return new(e||l)(i.Y36(v),i.Y36(i.SBq),i.Y36(i.Qsj))},l.\u0275dir=i.lG2({type:l,selectors:[["tab"],["","tab",""]],hostVars:7,hostBindings:function(e,o){2&e&&(i.uIk("id",o.id)("role",o.role)("aria-labelledby",o.ariaLabelledby),i.ekj("active",o.active)("tab-pane",o.addClass))},inputs:{heading:"heading",id:"id",disabled:"disabled",removable:"removable",customClass:"customClass",active:"active"},outputs:{selectTab:"selectTab",deselect:"deselect",removed:"removed"},exportAs:["tab"]}),l})(),x=(()=>{class l{constructor(e,o){o.headingRef=e}}return l.\u0275fac=function(e){return new(e||l)(i.Y36(i.Rgc),i.Y36(b))},l.\u0275dir=i.lG2({type:l,selectors:[["","tabHeading",""]]}),l})(),w=(()=>{class l{static forRoot(){return{ngModule:l,providers:[]}}}return l.\u0275fac=function(e){return new(e||l)},l.\u0275mod=i.oAB({type:l}),l.\u0275inj=i.cJS({imports:[C.ez]}),l})()}}]);