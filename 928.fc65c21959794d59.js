"use strict";(self.webpackChunkcoreui_free_angular_admin_template=self.webpackChunkcoreui_free_angular_admin_template||[]).push([[928],{7928:(k,p,d)=>{d.r(p),d.d(p,{BlogsDetailsModule:()=>a});var e=d(6895),g=d(9455),s=d(4650),C=d(5830),_=d(7241),f=d(4006),m=d(8423),v=d(6442);const b=[{path:"",component:(()=>{class n{constructor(o,i,c,u){this.api=o,this.route=i,this.navCtrl=c,this.util=u,this.title="",this.cover="",this.cotent="",this.shortContent="",this.route.queryParams.subscribe(M=>{M&&M.id?(this.edit=!0,this.id=M.id,this.getById()):this.edit=!1})}ngOnInit(){}getById(){const o={id:this.id};this.util.show(),this.api.post_private("v1/blogs/getById",o).then(i=>{if(console.log(i),this.util.hide(),i&&200==i.status&&i.data){const c=i.data;console.log(c),this.title=c.title,this.cotent=c.content,this.shortContent=c.short_content,this.cover=c.cover}else this.navCtrl.back(),this.util.error(this.util.translate("Something went wrong"))}).catch(i=>{console.log(i),this.util.hide(),this.util.apiErrorHandler(i)})}preview_banner(o){console.log("fle",o),0!=o.length&&null!=o[0].type.match(/image\/*/)&&(o?(console.log("ok"),this.util.show(),this.api.uploadFile(o).subscribe(c=>{console.log("==>>>>>>",c.data),this.util.hide(),c&&c.data.image_name&&(this.cover=c.data.image_name)},c=>{console.log(c),this.util.hide()})):console.log("no"))}onChange(o){}onEditorChange(o){}submit(){return console.log("its",this.edit),this.title&&""!=this.title&&this.cotent&&""!=this.cotent&&""!=this.shortContent?this.cover&&""!=this.cover?void(this.edit?this.updateContent():this.createContent()):(this.util.error(this.util.translate("Please add image")),!1):(this.util.error(this.util.translate("All Fields are required")),!1)}createContent(){const o={title:this.title,short_content:this.shortContent,content:this.cotent,cover:this.cover,status:1};console.log(o),this.util.show(),this.api.post_private("v1/blogs/create",o).then(i=>{this.util.hide(),console.log(i),i&&i.status&&200==i.status?(this.util.success(this.util.translate("Added")),this.navCtrl.back()):this.util.error(this.util.translate("Something went wrong"))},i=>{this.util.hide(),console.log(i),this.util.apiErrorHandler(i)}).catch(i=>{this.util.hide(),console.log(i),this.util.apiErrorHandler(i)})}updateContent(){const o={id:this.id,title:this.title,short_content:this.shortContent,content:this.cotent,cover:this.cover};console.log(o),this.util.show(),this.api.post_private("v1/blogs/update",o).then(i=>{this.util.hide(),console.log(i),i&&i.status&&200==i.status?(this.util.success(this.util.translate("Updated")),this.navCtrl.back()):this.util.error(this.util.translate("Something went wrong"))},i=>{this.util.hide(),console.log(i),this.util.apiErrorHandler(i)}).catch(i=>{this.util.hide(),console.log(i),this.util.apiErrorHandler(i)})}}return n.\u0275fac=function(o){return new(o||n)(s.Y36(C.s),s.Y36(g.gz),s.Y36(e.Ye),s.Y36(_.f))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-blogs-details"]],decls:34,vars:12,consts:[["type","ball-scale-multiple"],[1,"row"],[1,"col-md-12"],[1,"card"],[1,"card-body"],[1,"card-body","reset-table","p-t-0"],[1,"form-group","row"],[1,"col-sm-12"],["type","text",1,"form-control",3,"ngModel","placeholder","ngModelChange"],["type","text","rows","5",1,"form-control",3,"ngModel","placeholder","ngModelChange"],["debounce","500",3,"ngModel","ngModelChange","change","editorChange"],[1,"col-sm-4","col-form-label"],[1,"col-sm-4"],["type","file","accept","image/*",1,"form-control",3,"change"],["alt","","onError","this.src='assets/img/dummy.jpeg'",2,"height","100px","width","100px","float","right",3,"src"],[1,"btn","btn-danger","btn-round",3,"click"]],template:function(o,i){1&o&&(s._UZ(0,"ngx-spinner",0),s.TgZ(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h5"),s._uU(6),s.qZA()(),s.TgZ(7,"div",5)(8,"div",6)(9,"div",7)(10,"label"),s._uU(11),s.qZA(),s.TgZ(12,"input",8),s.NdJ("ngModelChange",function(u){return i.title=u}),s.qZA()()(),s.TgZ(13,"div",6)(14,"div",7)(15,"label"),s._uU(16),s.qZA(),s.TgZ(17,"textarea",9),s.NdJ("ngModelChange",function(u){return i.shortContent=u}),s.qZA()()(),s.TgZ(18,"div",6)(19,"div",7)(20,"label"),s._uU(21),s.qZA(),s.TgZ(22,"ckeditor",10),s.NdJ("ngModelChange",function(u){return i.cotent=u})("change",function(u){return i.onChange(u)})("editorChange",function(u){return i.onEditorChange(u)}),s.qZA()()(),s.TgZ(23,"div",6)(24,"label",11),s._uU(25),s.qZA(),s.TgZ(26,"div",12)(27,"input",13),s.NdJ("change",function(u){return i.preview_banner(u.target.files)}),s.qZA()(),s.TgZ(28,"div",12),s._UZ(29,"img",14),s.qZA()(),s.TgZ(30,"div",6)(31,"div",7)(32,"button",15),s.NdJ("click",function(){return i.submit()}),s._uU(33),s.qZA()()()()()()()),2&o&&(s.xp6(6),s.Oqu(i.util.translate("Blog Details")),s.xp6(5),s.Oqu(i.util.translate("Title")),s.xp6(1),s.Q6J("ngModel",i.title)("placeholder",i.util.translate("Title")),s.xp6(4),s.Oqu(i.util.translate("Short Content")),s.xp6(1),s.Q6J("ngModel",i.shortContent)("placeholder",i.util.translate("Short Content")),s.xp6(4),s.Oqu(i.util.translate("Contents")),s.xp6(1),s.Q6J("ngModel",i.cotent),s.xp6(3),s.Oqu(i.util.translate("Upload cover image here")),s.xp6(4),s.Q6J("src",i.api.imageUrl+i.cover,s.LSH),s.xp6(4),s.Oqu(i.util.translate("Submit")))},dependencies:[f.Fj,f.JJ,f.On,m.Ro,v.w5],styles:['@charset "UTF-8";']}),n})()}];let y=(()=>{class n{}return n.\u0275fac=function(o){return new(o||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[g.Bz.forChild(b),g.Bz]}),n})();var D=d(4333),l=d(502),h=d(388),t=d(9241);let a=(()=>{class n{}return n.\u0275fac=function(o){return new(o||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[e.ez,y,h.zk.forRoot(),f.u5,m.ef,D.JX,l.hx.forRoot({animation:"progress-dark"}),t.P4.forRoot(),v.dF]}),n})()},9241:(k,p,d)=>{d.d(p,{AH:()=>T,P4:()=>D,wW:()=>b,y3:()=>y});var e=d(4650),g=d(6895);function s(l,h){if(1&l){const t=e.EpF();e.TgZ(0,"span",7),e.NdJ("click",function(n){e.CHM(t);const r=e.oxw().$implicit,o=e.oxw();return n.preventDefault(),e.KtG(o.removeTab(r))}),e._uU(1," \u274c"),e.qZA()}}const C=function(l){return["nav-item",l]};function _(l,h){if(1&l){const t=e.EpF();e.TgZ(0,"li",3),e.NdJ("keydown",function(n){const o=e.CHM(t).index,i=e.oxw();return e.KtG(i.keyNavActions(n,o))}),e.TgZ(1,"a",4),e.NdJ("click",function(){const r=e.CHM(t).$implicit;return e.KtG(r.active=!0)}),e.TgZ(2,"span",5),e._uU(3),e.qZA(),e.YNc(4,s,2,0,"span",6),e.qZA()()}if(2&l){const t=h.$implicit;e.ekj("active",t.active)("disabled",t.disabled),e.Q6J("ngClass",e.VKq(15,C,t.customClass||"")),e.xp6(1),e.ekj("active",t.active)("disabled",t.disabled),e.uIk("aria-controls",t.id?t.id:"")("aria-selected",!!t.active)("id",t.id?t.id+"-link":""),e.xp6(1),e.Q6J("ngTransclude",t.headingRef),e.xp6(1),e.Oqu(t.heading),e.xp6(1),e.Q6J("ngIf",t.removable)}}const f=["*"];let m=(()=>{class l{constructor(t){this.viewRef=t}set ngTransclude(t){this._ngTransclude=t,t&&this.viewRef.createEmbeddedView(t)}get ngTransclude(){return this._ngTransclude}}return l.\u0275fac=function(t){return new(t||l)(e.Y36(e.s_b))},l.\u0275dir=e.lG2({type:l,selectors:[["","ngTransclude",""]],inputs:{ngTransclude:"ngTransclude"}}),l})(),v=(()=>{class l{constructor(){this.type="tabs",this.isKeysAllowed=!0,this.ariaLabel="Tabs"}}return l.\u0275fac=function(t){return new(t||l)},l.\u0275prov=e.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"}),l})(),T=(()=>{class l{constructor(t,a,n){this.renderer=a,this.elementRef=n,this.clazz=!0,this.tabs=[],this.classMap={},this.ariaLabel="Tabs",this.isDestroyed=!1,this._vertical=!1,this._justified=!1,this._type="tabs",this._isKeysAllowed=!0,Object.assign(this,t)}get vertical(){return this._vertical}set vertical(t){this._vertical=t,this.setClassMap()}get justified(){return this._justified}set justified(t){this._justified=t,this.setClassMap()}get type(){return this._type}set type(t){this._type=t,this.setClassMap()}get isKeysAllowed(){return this._isKeysAllowed}set isKeysAllowed(t){this._isKeysAllowed=t}ngOnDestroy(){this.isDestroyed=!0}addTab(t){this.tabs.push(t),t.active=1===this.tabs.length&&!t.active}removeTab(t,a={reselect:!0,emit:!0}){const n=this.tabs.indexOf(t);if(-1!==n&&!this.isDestroyed){if(a.reselect&&t.active&&this.hasAvailableTabs(n)){const r=this.getClosestTabIndex(n);this.tabs[r].active=!0}a.emit&&t.removed.emit(t),this.tabs.splice(n,1),t.elementRef.nativeElement.parentNode&&this.renderer.removeChild(t.elementRef.nativeElement.parentNode,t.elementRef.nativeElement)}}keyNavActions(t,a){if(!this.isKeysAllowed)return;const n=Array.from(this.elementRef.nativeElement.querySelectorAll(".nav-link"));if(13===t.keyCode||"Enter"===t.key||32===t.keyCode||"Space"===t.key)return t.preventDefault(),void n[a%n.length].click();if(39!==t.keyCode&&"RightArrow"!==t.key)if(37!==t.keyCode&&"LeftArrow"!==t.key)if(36!==t.keyCode&&"Home"!==t.key)if(35!==t.keyCode&&"End"!==t.key){if((46===t.keyCode||"Delete"===t.key)&&this.tabs[a].removable){if(this.removeTab(this.tabs[a]),n[a+1])return void n[(a+1)%n.length].focus();n[n.length-1]&&n[0].focus()}}else{t.preventDefault();let r,o=1,i=a;do{i-o<0?(i=n.length-1,r=n[i],o=0):r=n[i-o],o++}while(r.classList.contains("disabled"));r.focus()}else{t.preventDefault();let r,o=0;do{r=n[o%n.length],o++}while(r.classList.contains("disabled"));r.focus()}else{let r,o=1,i=a;do{i-o<0?(i=n.length-1,r=n[i],o=0):r=n[i-o],o++}while(r.classList.contains("disabled"));r.focus()}else{let r,o=1;do{r=n[(a+o)%n.length],o++}while(r.classList.contains("disabled"));r.focus()}}getClosestTabIndex(t){const a=this.tabs.length;if(!a)return-1;for(let n=1;n<=a;n+=1){const r=t-n,o=t+n;if(this.tabs[r]&&!this.tabs[r].disabled)return r;if(this.tabs[o]&&!this.tabs[o].disabled)return o}return-1}hasAvailableTabs(t){const a=this.tabs.length;if(!a)return!1;for(let n=0;n<a;n+=1)if(!this.tabs[n].disabled&&n!==t)return!0;return!1}setClassMap(){this.classMap={"nav-stacked":this.vertical,"flex-column":this.vertical,"nav-justified":this.justified,[`nav-${this.type}`]:!0}}}return l.\u0275fac=function(t){return new(t||l)(e.Y36(v),e.Y36(e.Qsj),e.Y36(e.SBq))},l.\u0275cmp=e.Xpm({type:l,selectors:[["tabset"]],hostVars:2,hostBindings:function(t,a){2&t&&e.ekj("tab-container",a.clazz)},inputs:{vertical:"vertical",justified:"justified",type:"type"},ngContentSelectors:f,decls:4,vars:3,consts:[["role","tablist",1,"nav",3,"ngClass","click"],[3,"ngClass","active","disabled","keydown",4,"ngFor","ngForOf"],[1,"tab-content"],[3,"ngClass","keydown"],["href","javascript:void(0);","role","tab",1,"nav-link",3,"click"],[3,"ngTransclude"],["class","bs-remove-tab",3,"click",4,"ngIf"],[1,"bs-remove-tab",3,"click"]],template:function(t,a){1&t&&(e.F$t(),e.TgZ(0,"ul",0),e.NdJ("click",function(r){return r.preventDefault()}),e.YNc(1,_,5,17,"li",1),e.qZA(),e.TgZ(2,"div",2),e.Hsn(3),e.qZA()),2&t&&(e.Q6J("ngClass",a.classMap),e.uIk("aria-label",a.ariaLabel),e.xp6(1),e.Q6J("ngForOf",a.tabs))},dependencies:[g.mk,g.sg,g.O5,m],styles:["[_nghost-%COMP%]   .nav-tabs[_ngcontent-%COMP%]   .nav-item.disabled[_ngcontent-%COMP%]   a.disabled[_ngcontent-%COMP%]{cursor:default}"]}),l})(),b=(()=>{class l{constructor(t,a,n){this.elementRef=a,this.renderer=n,this.disabled=!1,this.removable=!1,this.selectTab=new e.vpe,this.deselect=new e.vpe,this.removed=new e.vpe,this.addClass=!0,this.role="tabpanel",this._active=!1,this._customClass="",this.tabset=t,this.tabset.addTab(this)}get customClass(){return this._customClass}set customClass(t){this.customClass&&this.customClass.split(" ").forEach(a=>{this.renderer.removeClass(this.elementRef.nativeElement,a)}),this._customClass=t?t.trim():"",this.customClass&&this.customClass.split(" ").forEach(a=>{this.renderer.addClass(this.elementRef.nativeElement,a)})}get active(){return this._active}set active(t){if(this._active!==t){if(this.disabled&&t||!t)return void(this._active&&!t&&(this.deselect.emit(this),this._active=t));this._active=t,this.selectTab.emit(this),this.tabset.tabs.forEach(a=>{a!==this&&(a.active=!1)})}}get ariaLabelledby(){return this.id?`${this.id}-link`:""}ngOnInit(){this.removable=!!this.removable}ngOnDestroy(){this.tabset.removeTab(this,{reselect:!1,emit:!1})}}return l.\u0275fac=function(t){return new(t||l)(e.Y36(T),e.Y36(e.SBq),e.Y36(e.Qsj))},l.\u0275dir=e.lG2({type:l,selectors:[["tab"],["","tab",""]],hostVars:7,hostBindings:function(t,a){2&t&&(e.uIk("id",a.id)("role",a.role)("aria-labelledby",a.ariaLabelledby),e.ekj("active",a.active)("tab-pane",a.addClass))},inputs:{heading:"heading",id:"id",disabled:"disabled",removable:"removable",customClass:"customClass",active:"active"},outputs:{selectTab:"selectTab",deselect:"deselect",removed:"removed"},exportAs:["tab"]}),l})(),y=(()=>{class l{constructor(t,a){a.headingRef=t}}return l.\u0275fac=function(t){return new(t||l)(e.Y36(e.Rgc),e.Y36(b))},l.\u0275dir=e.lG2({type:l,selectors:[["","tabHeading",""]]}),l})(),D=(()=>{class l{static forRoot(){return{ngModule:l,providers:[]}}}return l.\u0275fac=function(t){return new(t||l)},l.\u0275mod=e.oAB({type:l}),l.\u0275inj=e.cJS({imports:[g.ez]}),l})()}}]);